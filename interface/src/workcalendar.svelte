<script>
    import { worksSort , subjectHighlight } from "./store";

    const today = new Date();
    let year = today.getFullYear() , month = today.getMonth();
    
    let firstDate =  new Date(year , month , 1);

    let theCalender = [];

    let spaces , daysQuantity;

    const handlelastMonth = () => {
        firstDate.setMonth(month-1);
        firstDate = firstDate;
    }

    const handlenextMonth = () => {
        firstDate.setMonth(month+1);
        firstDate = firstDate;
    }


    $: {
        spaces = firstDate.getDay();
        daysQuantity = new Date(firstDate.getFullYear() , firstDate.getMonth()+1 , 0).getDate();
        console.log(spaces ,daysQuantity);
        year = firstDate.getFullYear();
        month = firstDate.getMonth();
    }

    $: {
        console.log($worksSort);
        theCalender = [];
        for (let i=0;i<spaces;i++){
            theCalender.push({
                number:"",
                task:[],
            })
        }
        for (let i=0;i<daysQuantity;i++){
            let theDay = firstDate.getTime()+28800000+86400000*i;
            let tasks = null;
            
            if ($worksSort.get(theDay)){
                tasks = $worksSort.get(theDay).child;
            }
            theCalender.push({
                number:i+1,
                millionSecond:theDay,
                tasks:tasks,
                showTasks:false,
            })
        }

        let lastSpaces =  (7 - theCalender.length % 7) % 7;
        for (let i=0;i < lastSpaces;i++){
            console.log("hi")
            theCalender.push({
                number:"",
                task:[],
            })
        }
        console.log(theCalender)
    }


    
    



</script>

<div class="bg-white mx-10 my-4 py-4">
    <p class="w-fit mx-auto">
        <button class="w-4" on:click={handlelastMonth}>&lt;</button>
        <span class="w-20 text-center">{year} / {month+1}</span>
        <button class="w-4" on:click={handlenextMonth}>&gt;</button>
    </p>

    <table class="mx-auto">
        <tr>
            <th>日</th>
            <th>一</th>
            <th>二</th>
            <th>三</th>
            <th>四</th>
            <th>五</th>
            <th>六</th>
        </tr>
        {#each Array(Math.ceil(theCalender.length/7)) as _ , row }
            <tr class="relative">
                {#each Array(7) as _ , grid}
                    {#if theCalender[row*7+grid].tasks}
                        <td class="group text-orange-600">
                            {theCalender[row*7+grid].number}
                            <div class="pl-4 border-2 border-black text-black left-0 bg-white absolute z-50 hidden group-hover:flex item-center flex-wrap gap-y-2 w-full">
                                {#each theCalender[row*7+grid].tasks as work}
                                    <span class="w-7/12 text-left">
                                        {#if work.WorkOrExam}
                                        <svg class="w-4 inline" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">
                                        <circle fill="#000000" cx="146.83" cy="82.86" r="52.45"/>
                                        <path fill="#000000" d="
                                          M 50.42 307.92
                                          Q 51.46 307.95 50.83 307.12
                                          C 44.13 298.17 42.06 289.99 40.89 278.05
                                          C 37.96 248.00 40.23 219.65 50.11 191.00
                                          C 54.14 179.31 56.78 170.77 62.20 162.45
                                          C 73.67 144.85 95.96 133.40 116.72 138.75
                                          Q 126.73 141.33 132.37 151.15
                                          Q 145.09 173.33 158.12 195.32
                                          C 158.32 195.65 157.82 195.50 157.69 195.39
                                          Q 139.24 179.33 120.78 163.28
                                          Q 115.67 158.83 111.94 157.34
                                          C 91.92 149.31 74.24 173.40 88.27 189.97
                                          Q 89.12 190.97 96.41 197.34
                                          Q 111.29 210.33 126.23 223.29
                                          A 1.42 1.41 26.9 0 1 126.69 224.68
                                          Q 121.66 247.45 120.77 271.00
                                          A 0.48 0.48 -88.9 0 0 121.25 271.50
                                          Q 139.64 271.49 158.03 271.50
                                          C 169.08 271.51 177.99 274.68 183.26 284.59
                                          Q 185.50 288.82 187.31 299.81
                                          Q 194.30 342.44 201.23 385.08
                                          Q 202.60 393.52 201.91 397.98
                                          C 199.39 414.42 181.66 423.52 166.30 416.46
                                          C 155.82 411.64 153.33 403.10 151.38 391.29
                                          Q 145.98 358.62 140.69 325.92
                                          A 0.67 0.60 85.4 0 0 140.10 325.36
                                          L 134.81 325.30
                                          A 1.00 0.90 85.2 0 0 133.93 326.46
                                          L 158.50 478.52
                                          A 0.63 0.62 80.8 0 1 157.99 479.24
                                          L 143.46 481.54
                                          A 0.82 0.82 -58.0 0 1 142.52 480.86
                                          L 139.16 460.00
                                          A 0.88 0.88 -4.6 0 0 138.29 459.26
                                          L 20.07 459.26
                                          A 0.59 0.59 -85.4 0 0 19.49 459.76
                                          L 16.03 481.00
                                          A 0.52 0.50 -81.5 0 1 15.46 481.44
                                          L 0.99 479.29
                                          A 1.02 0.98 -81.5 0 1 0.16 478.13
                                          L 24.74 326.21
                                          A 0.80 0.80 -85.2 0 0 23.95 325.27
                                          C 21.53 325.25 18.74 325.55 16.56 324.61
                                          C 8.48 321.13 9.78 309.41 18.51 307.94
                                          Q 19.27 307.81 24.51 307.75
                                          Q 37.68 307.62 50.42 307.92
                                          Z
                                          M 135.25 441.56
                                          A 0.78 0.77 -4.7 0 0 136.02 440.66
                                          L 117.45 325.79
                                          A 0.64 0.63 -4.2 0 0 116.82 325.25
                                          L 41.74 325.25
                                          A 0.58 0.58 -85.3 0 0 41.17 325.74
                                          L 22.53 441.04
                                          A 0.42 0.42 4.1 0 0 22.95 441.52
                                          L 135.25 441.56
                                          Z"
                                        />
                                        <path fill="#000000" d="
                                          M 213.62 184.44
                                          L 183.33 147.97
                                          A 0.57 0.57 50.4 0 1 183.40 147.17
                                          L 190.94 140.86
                                          A 0.45 0.44 -39.6 0 1 191.57 140.91
                                          L 225.46 181.87
                                          A 0.35 0.34 -28.5 0 1 225.29 182.41
                                          Q 219.88 184.18 214.43 184.76
                                          A 0.95 0.91 -22.1 0 1 213.62 184.44
                                          Z"
                                        />
                                        <rect fill="#000000" x="-3.14" y="-19.61" transform="translate(422.43,161.29) rotate(6.3)" width="6.28" height="39.22" rx="0.53"/>
                                        <path fill="#000000" d="
                                          M 231.12 188.04
                                          C 246.51 189.91 249.18 210.92 235.00 216.91
                                          Q 233.92 217.37 225.41 219.40
                                          Q 193.50 227.03 161.52 234.45
                                          C 153.80 236.25 149.57 235.90 143.83 230.92
                                          Q 120.21 210.41 96.62 189.87
                                          C 91.51 185.43 88.14 180.83 89.33 174.32
                                          C 91.03 165.09 99.92 159.15 108.93 162.21
                                          Q 111.70 163.14 115.91 166.78
                                          Q 137.38 185.30 158.49 203.77
                                          A 1.10 1.09 -30.6 0 0 159.49 204.02
                                          Q 191.28 196.44 223.08 189.00
                                          Q 228.53 187.72 231.12 188.04
                                          Z"
                                        />
                                        <path fill="#000000" d="
                                          M 396.80 162.82
                                          A 0.78 0.75 75.5 0 1 397.74 163.40
                                          L 401.73 180.04
                                          A 0.45 0.42 81.9 0 1 401.34 180.60
                                          L 396.07 180.68
                                          A 0.72 0.63 81.8 0 1 395.44 180.14
                                          L 391.62 164.77
                                          A 0.55 0.52 75.8 0 1 391.99 164.11
                                          L 396.80 162.82
                                          Z"
                                        />
                                        <rect fill="#000000" x="394.00" y="186.50" width="33.00" height="50.74" rx="0.64"/>
                                        <path fill="#000000" d="
                                          M 244.25 218.50
                                          A 0.54 0.50 -54.8 0 1 244.15 217.77
                                          L 248.21 212.17
                                          A 0.28 0.28 -39.8 0 1 248.69 212.21
                                          L 254.72 225.36
                                          Q 255.09 226.17 254.36 225.66
                                          L 244.25 218.50
                                          Z"
                                        />
                                        <path fill="#000000" d="
                                          M 228.81 232.44
                                          L 365.78 232.48
                                          A 1.00 1.00 80.3 0 1 366.74 233.20
                                          Q 367.32 235.21 366.24 236.84
                                          A 0.98 0.87 14.6 0 1 365.45 237.24
                                          L 225.18 237.21
                                          A 1.90 1.75 -58.3 0 0 224.25 237.47
                                          C 219.13 240.54 215.13 240.67 208.89 239.47
                                          Q 197.70 237.32 186.50 235.20
                                          Q 184.76 234.87 186.49 234.47
                                          L 229.24 224.43
                                          A 0.44 0.43 -9.1 0 1 229.78 224.81
                                          Q 230.07 228.53 228.53 231.98
                                          A 0.33 0.31 -77.3 0 0 228.81 232.44
                                          Z"
                                        />
                                        <path fill="#000000" d="
                                          M 512.00 244.56
                                          L 512.00 256.81
                                          L 494.11 257.08
                                          A 0.53 0.49 -0.6 0 0 493.59 257.57
                                          L 493.52 278.25
                                          A 0.92 0.87 90.0 0 1 492.65 279.17
                                          L 480.51 279.10
                                          A 0.50 0.48 0.6 0 0 480.00 279.58
                                          L 479.99 478.46
                                          A 0.53 0.49 90.0 0 1 479.50 478.99
                                          L 464.29 479.20
                                          A 0.52 0.51 -90.0 0 1 463.78 478.68
                                          L 463.76 451.15
                                          A 0.89 0.89 0.0 0 0 462.87 450.26
                                          L 221.42 450.27
                                          A 0.51 0.51 0.0 0 0 220.91 450.78
                                          L 220.75 478.67
                                          A 0.51 0.49 -90.0 0 1 220.26 479.18
                                          L 205.01 479.20
                                          A 0.51 0.50 90.0 0 1 204.51 478.69
                                          L 204.50 280.04
                                          A 0.54 0.51 -89.5 0 0 204.00 279.50
                                          L 192.26 279.28
                                          A 1.53 1.41 0.6 0 1 190.76 277.87
                                          L 190.76 257.54
                                          A 0.51 0.49 90.0 0 0 190.27 257.03
                                          L 172.89 257.00
                                          A 0.54 0.53 -89.5 0 1 172.36 256.45
                                          L 172.54 245.09
                                          A 0.53 0.52 -90.0 0 1 173.05 244.57
                                          Q 183.03 244.42 214.81 244.44
                                          Q 363.41 244.50 512.00 244.56
                                          Z
                                          M 463.75 280.01
                                          A 0.77 0.77 0.0 0 0 462.98 279.24
                                          L 221.52 279.24
                                          A 0.77 0.77 0.0 0 0 220.75 280.01
                                          L 220.75 433.23
                                          A 0.77 0.77 0.0 0 0 221.52 434.00
                                          L 462.98 434.00
                                          A 0.77 0.77 0.0 0 0 463.75 433.23
                                          L 463.75 280.01
                                          Z"
                                        />
                                        </svg>
                                        
                                        {:else}
                                        <svg class="w-4 inline" xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 512 512">
                                            <path fill="#000000" d="
                                              M 366.31 407.49
                                              A 0.76 0.76 0.0 0 0 367.07 408.25
                                              Q 392.92 408.25 418.59 408.25
                                              C 423.83 408.26 426.72 410.65 426.75 415.86
                                              C 426.80 423.20 427.29 431.69 425.73 438.20
                                              C 422.60 451.18 412.40 461.87 399.48 465.42
                                              Q 394.63 466.75 383.38 466.75
                                              Q 236.67 466.76 89.96 466.74
                                              Q 81.70 466.74 77.28 465.60
                                              C 64.68 462.36 54.29 452.32 50.79 439.92
                                              Q 49.25 434.44 49.25 420.94
                                              Q 49.25 237.48 49.25 54.03
                                              C 49.25 48.54 51.27 45.25 56.96 45.25
                                              Q 207.05 45.25 357.14 45.25
                                              C 366.25 45.25 366.27 50.39 366.26 57.68
                                              Q 366.19 232.81 366.31 407.49
                                              Z
                                              M 64.26 436.19
                                              C 70.37 456.74 98.29 458.16 107.34 439.98
                                              C 110.66 433.31 110.28 424.03 109.98 416.46
                                              C 109.77 410.91 112.69 408.25 118.30 408.25
                                              Q 234.99 408.25 351.45 408.25
                                              A 0.80 0.80 0.0 0 0 352.25 407.45
                                              L 352.25 59.98
                                              A 0.72 0.72 0.2 0 0 351.53 59.26
                                              L 63.77 59.29
                                              A 0.49 0.49 0.0 0 0 63.28 59.78
                                              Q 63.22 241.78 63.26 423.69
                                              Q 63.26 432.84 64.26 436.19
                                              Z
                                              M 124.49 422.19
                                              A 0.48 0.48 89.4 0 0 124.01 422.68
                                              C 124.24 433.61 123.04 443.29 116.09 452.18
                                              Q 115.63 452.76 116.37 452.76
                                              Q 251.41 452.74 385.79 452.76
                                              C 398.50 452.76 408.27 448.44 412.02 435.23
                                              C 413.10 431.44 412.70 426.92 412.86 422.74
                                              A 0.49 0.49 -88.9 0 0 412.37 422.23
                                              L 124.49 422.19
                                              Z"
                                            />
                                            <path fill="#000000" d="
                                              M 423.28 384.19
                                              Q 422.08 383.28 421.45 381.92
                                              L 393.58 321.91
                                              Q 393.00 320.65 393.00 319.25
                                              Q 393.01 197.01 392.99 74.30
                                              C 392.99 60.94 398.79 50.49 411.98 46.39
                                              C 418.26 44.43 426.75 45.30 433.77 45.24
                                              C 446.89 45.14 457.46 51.16 461.40 63.94
                                              Q 462.77 68.41 462.77 77.22
                                              Q 462.72 197.49 462.77 317.76
                                              Q 462.77 320.20 461.76 322.41
                                              Q 449.20 349.96 436.34 377.32
                                              C 433.82 382.69 430.57 389.72 423.28 384.19
                                              Z
                                              M 409.24 64.72
                                              C 405.39 70.34 406.99 83.67 406.97 90.57
                                              A 0.65 0.64 90.0 0 0 407.61 91.22
                                              L 448.11 91.18
                                              A 0.52 0.52 -89.4 0 0 448.63 90.67
                                              Q 448.81 82.88 448.77 75.08
                                              C 448.68 56.45 435.55 59.20 422.07 59.25
                                              C 416.15 59.27 412.49 60.00 409.24 64.72
                                              Z
                                              M 420.76 105.80
                                              A 0.54 0.54 0.0 0 0 420.22 105.26
                                              L 407.54 105.26
                                              A 0.54 0.54 0.0 0 0 407.00 105.80
                                              L 407.00 311.44
                                              A 0.54 0.54 0.0 0 0 407.54 311.98
                                              L 420.22 311.98
                                              A 0.54 0.54 0.0 0 0 420.76 311.44
                                              L 420.76 105.80
                                              Z
                                              M 448.75 105.83
                                              A 0.57 0.57 0.0 0 0 448.18 105.26
                                              L 435.32 105.26
                                              A 0.57 0.57 0.0 0 0 434.75 105.83
                                              L 434.75 311.43
                                              A 0.57 0.57 0.0 0 0 435.32 312.00
                                              L 448.18 312.00
                                              A 0.57 0.57 0.0 0 0 448.75 311.43
                                              L 448.75 105.83
                                              Z
                                              M 444.33 325.94
                                              L 411.71 325.99
                                              A 0.53 0.52 77.4 0 0 411.24 326.74
                                              L 427.43 361.71
                                              Q 427.82 362.56 428.21 361.71
                                              L 444.61 326.38
                                              A 0.31 0.31 -77.7 0 0 444.33 325.94
                                              Z"
                                            />
                                            <path fill="#000000" d="
                                              M 99.31 134.19
                                              Q 111.70 134.27 124.10 134.27
                                              Q 127.62 134.27 129.20 134.92
                                              C 136.84 138.05 133.77 148.22 125.39 148.24
                                              Q 109.22 148.28 93.04 148.23
                                              C 87.51 148.22 84.76 145.78 84.75 140.33
                                              Q 84.74 112.37 84.76 84.41
                                              C 84.77 79.39 86.95 76.28 92.07 76.27
                                              Q 108.76 76.22 125.44 76.27
                                              C 134.30 76.29 136.61 86.37 128.75 89.73
                                              Q 127.47 90.28 122.75 90.25
                                              Q 110.96 90.16 99.18 90.34
                                              A 0.49 0.49 89.4 0 0 98.69 90.84
                                              L 98.86 104.67
                                              A 0.52 0.51 -0.6 0 0 99.38 105.17
                                              Q 111.97 105.29 124.46 105.27
                                              C 136.72 105.26 136.02 119.29 125.50 119.24
                                              Q 112.34 119.18 99.18 119.33
                                              A 0.51 0.50 90.0 0 0 98.68 119.84
                                              L 98.81 133.69
                                              A 0.50 0.50 0.0 0 0 99.31 134.19
                                              Z"
                                            />
                                            <path fill="#000000" d="
                                              M 170.80 99.92
                                              A 0.51 0.51 -44.8 0 0 171.63 99.92
                                              Q 178.35 90.50 185.23 81.22
                                              Q 187.92 77.60 189.70 76.76
                                              C 194.89 74.31 200.55 79.36 199.16 84.76
                                              Q 198.75 86.38 196.62 89.29
                                              Q 188.39 100.54 180.22 111.84
                                              A 0.70 0.68 45.1 0 0 180.23 112.65
                                              Q 189.02 124.74 197.76 136.72
                                              C 202.98 143.86 193.96 152.24 187.74 146.40
                                              Q 187.29 145.98 184.11 141.71
                                              Q 177.80 133.23 171.72 124.66
                                              A 0.64 0.63 44.8 0 0 170.69 124.66
                                              Q 163.92 134.16 156.96 143.51
                                              Q 154.39 146.97 152.46 147.86
                                              C 148.08 149.89 142.21 145.43 142.99 140.61
                                              Q 143.31 138.61 145.75 135.25
                                              Q 153.94 123.95 162.23 112.73
                                              A 0.79 0.78 -45.4 0 0 162.23 111.80
                                              Q 153.79 100.23 145.40 88.65
                                              Q 143.26 85.69 143.06 83.82
                                              C 142.41 77.78 149.68 73.89 154.22 77.64
                                              Q 155.07 78.35 158.57 83.05
                                              Q 164.79 91.42 170.80 99.92
                                              Z"
                                            />
                                            <path fill="#000000" d="
                                              M 223.06 119.81
                                              Q 223.02 130.08 222.74 140.35
                                              C 222.53 147.66 214.35 151.62 210.30 145.49
                                              Q 209.00 143.52 209.00 139.22
                                              Q 209.00 111.78 209.00 84.33
                                              C 209.01 79.28 211.21 76.27 216.32 76.26
                                              Q 232.84 76.24 249.36 76.25
                                              C 253.87 76.26 257.74 78.24 257.74 83.00
                                              Q 257.77 110.99 257.73 138.97
                                              Q 257.73 143.01 256.77 144.73
                                              C 254.08 149.53 246.96 149.35 244.58 144.44
                                              Q 243.76 142.73 243.75 138.91
                                              Q 243.74 129.34 243.75 119.76
                                              A 0.49 0.49 0.0 0 0 243.26 119.27
                                              L 223.55 119.31
                                              A 0.50 0.49 -90.0 0 0 223.06 119.81
                                              Z
                                              M 243.7742 90.8163
                                              A 0.56 0.56 0.0 0 0 243.2162 90.2544
                                              L 223.5563 90.1857
                                              A 0.56 0.56 0.0 0 0 222.9943 90.7438
                                              L 222.9458 104.6437
                                              A 0.56 0.56 0.0 0 0 223.5038 105.2056
                                              L 243.1637 105.2743
                                              A 0.56 0.56 0.0 0 0 243.7257 104.7162
                                              L 243.7742 90.8163
                                              Z"
                                            />
                                            <path fill="#000000" d="
                                              M 316.92 104.43
                                              Q 316.95 102.61 315.80 104.02
                                              Q 310.65 110.33 305.76 116.67
                                              C 300.70 123.23 295.52 120.71 291.16 115.28
                                              Q 286.34 109.27 281.59 103.38
                                              Q 281.13 102.82 281.14 103.54
                                              Q 281.44 121.64 281.09 139.72
                                              C 280.87 151.30 267.25 150.87 267.25 140.24
                                              Q 267.25 112.29 267.26 84.34
                                              C 267.26 75.82 275.20 73.41 280.49 79.87
                                              Q 289.53 90.90 298.33 101.89
                                              A 0.74 0.74 45.0 0 0 299.49 101.89
                                              Q 308.54 90.66 317.42 79.79
                                              C 322.26 73.86 330.69 75.65 330.71 83.75
                                              Q 330.78 111.09 330.73 138.43
                                              Q 330.72 142.65 329.90 144.32
                                              C 327.39 149.49 319.82 149.58 317.52 144.35
                                              Q 316.77 142.66 316.75 138.56
                                              Q 316.62 121.12 316.92 104.43
                                              Z"
                                            />
                                            <path fill="#000000" d="
                                              M 116.81 211.93
                                              A 0.45 0.44 45.5 0 0 117.43 211.94
                                              Q 127.12 202.28 136.78 192.58
                                              C 145.24 184.07 154.90 194.11 147.29 201.80
                                              Q 135.15 214.08 122.84 226.20
                                              C 119.40 229.58 115.49 230.19 111.98 226.75
                                              C 107.96 222.83 97.27 213.99 95.62 209.08
                                              C 93.46 202.65 101.93 197.13 106.80 201.95
                                              Q 111.82 206.93 116.81 211.93
                                              Z"
                                            />
                                            <rect fill="#000000" x="157.99" y="202.25" width="164.20" height="13.98" rx="6.92"/>
                                            <path fill="#000000" d="
                                              M 140.26 294.87
                                              A 7.34 7.34 0.0 0 1 132.92 302.21
                                              L 100.36 302.21
                                              A 7.34 7.34 0.0 0 1 93.02 294.87
                                              L 93.02 262.33
                                              A 7.34 7.34 0.0 0 1 100.36 254.99
                                              L 132.92 254.99
                                              A 7.34 7.34 0.0 0 1 140.26 262.33
                                              L 140.26 294.87
                                              Z
                                              M 126.2346 269.7832
                                              A 0.80 0.80 0.0 0 0 125.4332 268.9846
                                              L 107.7932 269.0154
                                              A 0.80 0.80 0.0 0 0 106.9946 269.8168
                                              L 107.0254 287.4568
                                              A 0.80 0.80 0.0 0 0 107.8268 288.2554
                                              L 125.4668 288.2246
                                              A 0.80 0.80 0.0 0 0 126.2654 287.4232
                                              L 126.2346 269.7832
                                              Z"
                                            />
                                            <rect fill="#000000" x="157.99" y="271.51" width="164.20" height="13.98" rx="6.92"/>
                                            <path fill="#000000" d="
                                              M 140.25 364.37
                                              A 7.12 7.12 0.0 0 1 133.13 371.49
                                              L 100.15 371.49
                                              A 7.12 7.12 0.0 0 1 93.03 364.37
                                              L 93.03 331.61
                                              A 7.12 7.12 0.0 0 1 100.15 324.49
                                              L 133.13 324.49
                                              A 7.12 7.12 0.0 0 1 140.25 331.61
                                              L 140.25 364.37
                                              Z
                                              M 126.25 338.99
                                              A 0.53 0.53 0.0 0 0 125.72 338.46
                                              L 107.54 338.46
                                              A 0.53 0.53 0.0 0 0 107.01 338.99
                                              L 107.01 356.97
                                              A 0.53 0.53 0.0 0 0 107.54 357.50
                                              L 125.72 357.50
                                              A 0.53 0.53 0.0 0 0 126.25 356.97
                                              L 126.25 338.99
                                              Z"
                                            />
                                            <rect fill="#000000" x="158.00" y="341.01" width="164.20" height="13.98" rx="6.92"/>
                                            </svg>
                                            
                                        {/if}
                                        <button class="bg-blue-100 px-2 rounded-md {$subjectHighlight[work.subject] && "text-blue-600"}" on:click={() => $subjectHighlight[work.subject] = !$subjectHighlight[work.subject]}>
                                            {work.subject}
                                        </button>-{work.baseWork}
                                    </span>
                                    <span class="w-5/12 text-left">{work.range}</span>
                                {/each}
                            </div>
                            
                        </td>
                    {:else}
                    <td>
                        {theCalender[row*7+grid].number}
                    </td>
                    {/if}
                {/each}
            </tr>
        {/each}
    </table>
    
</div>

<style>
    td , th {
        text-align: center;
        min-width:auto;
        min-height:auto;
        padding: 10px;
    }

    table , td , th {
        border: 1px dashed #ccc;
    }
</style>
